<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="/static/jquery-3.3.1.js"></script>
</head>
<body>
<h3>简单的form</h3>
<form action="" method="post" enctype="application/x-www-form-urlencoded">
    用户名<input type="text" name="user">
    密码<input type="password" name="pwd">
    <input type="submit">
</form>

<h3>基于form表单的文件上传</h3>
<form action="" method="post" enctype="multipart/form-data">
    用户名<input type="text" name="user">
    头像  <input type="file" name="avatar">
    <input type="submit">
</form>


<h3>基于Ajax文件上传</h3>
    用户名<input type="text" id="user">
    头像  <input type="file" id="avatar">
    <input type="button" class="btn" value="Ajax">

<script>
    // ajax上传文件
    $(".btn").click(function () {
        var formdata = new FormData();
        formdata.append("user", $("#user").val());
        formdata.append("avatar", $("#avatar")[0].files[0]);
        $.ajax({
            url:"",
            type:"post",
            // 传formdata数据一定要写下面这两个参数
            contentType:false,   // 在ajax这一层不做任何编码
            processData:false,   // 在ajax这一层不做预处理
            data:formdata,
            success: function (data) {
                console.log(data);
            }
        })
    });



    {#$(".btn").click(function () {#}
    {#    $.ajax({#}
    {#        url: "",#}
    {#        type: "post",#}
    {#        //不加contentType，默认是application/x-www-form-urlencoded 方式#}
    {#        contentType:"application/json",   // 告诉服务器编码类型改为json数据#}
    {#        data: JSON.stringify({     // JSON序列化的方法#}
    {#            a:1,#}
    {#            b:2#}
    {#        }),#}
    {#        success: function(data){#}
    {#            console.log(data)#}
    {#        }#}
    {#    })#}
    {# })#}
    {##}
    {#$(".btn").click(function () {#}
    {#    $.ajax({#}
    {#        url: "",#}
    {#        type: "post",#}
    {#        //不加contentType，默认是application/x-www-form-urlencoded 方式#}
    {#        data: {     // JSON序列化的方法#}
    {#            a:1,#}
    {#            b:2#}
    {#        },#}
    {#        success: function(data){#}
    {#            console.log(data)#}
    {#        }#}
    {#    })#}
    {# })#}
</script>

</body>
</html>